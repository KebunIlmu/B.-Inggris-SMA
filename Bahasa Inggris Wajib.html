<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- MathJax untuk tampilan rumus -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <title>Kebun Ilmu – Media Pembelajaran Interaktif</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--brand:#10b981;--brand-2:#22d3ee}
    html,body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji"}
    .glass{backdrop-filter:saturate(180%) blur(10px); background:linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,.6))}
    .chip{border:1px solid rgba(0,0,0,.06);}
    .btn{transition:transform .05s ease}
    .btn:active{transform:translateY(1px) scale(.99)}
    details>summary{list-style:none}
    details>summary::-webkit-details-marker{display:none}
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-white text-gray-800">
  <!-- Header / Brand -->
  <header class="sticky top-0 z-40 border-b border-emerald-100/60 glass">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center gap-3">
      <img src="https://zahwan93.github.io/Kebun-Ilmu-Matematika-SMP/logo.png" alt="Logo Kebun Ilmu" class="w-10 h-10 rounded-xl shadow" />
      <div class="flex-1">
        <h1 class="text-lg sm:text-2xl font-extrabold tracking-tight">
          Kebun Ilmu <span class="text-emerald-600">— Media Pembelajaran Interaktif</span>
        </h1>
        <p class="text-xs sm:text-sm text-gray-500">Materi · Latihan · Simulasi </p>
      </div>
      <nav class="hidden sm:flex items-center gap-2">
        <button data-tab="materi" class="tab-btn btn px-3 py-2 rounded-xl bg-emerald-600 text-white text-sm font-medium shadow hover:shadow-md">Materi</button>
        <button data-tab="latihan" class="tab-btn btn px-3 py-2 rounded-xl bg-white text-gray-700 text-sm font-medium border chip hover:bg-gray-50">Latihan Soal</button>
        <button data-tab="simulasi" class="tab-btn btn px-3 py-2 rounded-xl bg-white text-gray-700 text-sm font-medium border chip hover:bg-gray-50">Simulasi TKA</button>
      </nav>
    </div>
  </header>

  <!-- Mobile Tab Switcher -->
  <div class="sm:hidden sticky top-[60px] z-30 bg-white/80 backdrop-blur border-b border-emerald-100/60">
    <div class="max-w-6xl mx-auto px-4 py-2 grid grid-cols-3 gap-2">
      <button data-tab="materi" class="tab-btn btn py-2 rounded-lg bg-emerald-600 text-white text-xs font-semibold">Materi</button>
      <button data-tab="latihan" class="tab-btn btn py-2 rounded-lg bg-white border chip text-xs font-semibold">Latihan</button>
      <button data-tab="simulasi" class="tab-btn btn py-2 rounded-lg bg-white border chip text-xs font-semibold">Simulasi</button>
    </div>
  </div>

  <main class="max-w-6xl mx-auto px-4 sm:px-6 py-6">
    <!-- Info links to Pusmendik -->
    

    <!-- Tabs content wrapper -->
    <section id="tab-materi" class="tab-pane">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 space-y-4">
          <div class="p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-lg">Pilih Materi</h2>
            <label class="block mt-3 text-sm">Mata Pelajaran</label>
            <select id="materiMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300">
              <!-- Diisi via JS -->
            </select>
            <label class="block mt-3 text-sm">Bab</label>
            <select id="materiBab" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300">
            </select>
            <button id="btnLoadMateri" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Tampilkan</button>
          </div>

          <div class="p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h3 class="font-semibold">Sumber Resmi</h3>
            <p class="text-sm text-gray-600 mt-1">Buka ringkasan materi versi Pusmendik:</p>
            <a target="_blank" rel="noopener" href="https://pusmendik.kemdikbud.go.id/tka/tka/view/mata-pelajaran-wajib/sma" class="inline-block mt-2 px-3 py-2 rounded-xl border chip hover:bg-gray-50 text-sm">📖 Buka Halaman Materi</a>
          </div>
        </div>

        <div class="md:col-span-2 space-y-4">
          <div class="p-5 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-xl flex items-center gap-2">📘 Ringkasan Materi</h2>
            <div id="materiKonten" class="prose prose-sm sm:prose lg:prose-lg max-w-none mt-3"></div>
          </div>
          <div class="p-5 rounded-2xl bg-white border border-emerald-100 shadow-sm">
            <h2 class="font-bold text-xl flex items-center gap-2">🎬 Video Pembelajaran</h2>
            <div id="materiVideo" class="aspect-video w-full overflow-hidden rounded-xl bg-gray-100 flex items-center justify-center text-gray-400">
              <span class="text-sm">Pilih materi untuk memuat video…</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="tab-latihan" class="tab-pane hidden">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <h2 class="font-bold text-lg">Pengaturan Latihan</h2>
          <label class="block mt-3 text-sm">Mata Pelajaran</label>
          <select id="latihMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300"></select>
          <label class="block mt-3 text-sm">Bab</label>
          <select id="latihBab" class="w-full mt-1 px-3 py-2 rounded-xl border chip focus:outline-none focus:ring-2 focus:ring-emerald-300"></select>
          <button id="btnLoadLatihan" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Muat Soal</button>
        </div>
        <div class="md:col-span-2 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="font-bold text-xl">Latihan Soal</h2>
            <button id="btnPeriksaSemua" class="btn px-3 py-2 rounded-xl border chip text-sm">Cek Semua</button>
          </div>
          <div id="latihanContainer" class="mt-3 space-y-4"></div>
        </div>
      </div>
    </section>

    <section id="tab-simulasi" class="tab-pane hidden">
      <div class="grid md:grid-cols-3 gap-4">
        <div class="md:col-span-1 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <h2 class="font-bold text-lg">Pengaturan Simulasi</h2>
          <label class="block mt-3 text-sm">Mata Pelajaran</label>
          <select id="simMapel" class="w-full mt-1 px-3 py-2 rounded-xl border chip"></select>
          <label class="block mt-3 text-sm">Jumlah Soal</label>
          <input id="simJumlah" type="number" min="5" max="50" value="10" class="w-full mt-1 px-3 py-2 rounded-xl border chip" />
          <label class="block mt-3 text-sm">Durasi (menit)</label>
          <input id="simDurasi" type="number" min="5" max="180" value="15" class="w-full mt-1 px-3 py-2 rounded-xl border chip" />
          <button id="btnMulaiSim" class="btn mt-4 w-full py-2 rounded-xl bg-emerald-600 text-white font-semibold">Mulai Simulasi</button>
          <p class="text-xs text-gray-500 mt-2">Timer akan berjalan. Skor & pembahasan ditampilkan setelah selesai.</p>
        </div>
        <div class="md:col-span-2 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="font-bold text-xl">Simulasi TKA</h2>
            <div id="simInfo" class="text-sm text-gray-600">Belum mulai</div>
          </div>
          <div id="simContainer" class="mt-3 space-y-4"></div>
          <div id="simHasil" class="mt-4 hidden p-4 rounded-xl border chip bg-emerald-50"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="max-w-6xl mx-auto px-4 sm:px-6 pb-10">
    <div class="mt-10 p-4 rounded-2xl bg-white border border-emerald-100 shadow-sm text-xs text-gray-500">
      <p><strong>Kebun Ilmu</strong> – Aplikasi belajar mandiri. Konten ringkasan & soal di sini adalah contoh yang disusun menyerupai format TKA. Untuk rujukan resmi gunakan tautan Pusmendik di atas.</p>
    </div>
  </footer>

  <!-- App Data & Logic -->
  <script>
  // ======= Dataset Contoh (DISERAGAMKAN DENGAN TKA SMA) =======
  // Struktur: mapel -> bab[] -> materi (html), video (YT embed id), soal[]
  const DB = {
    'Advanced English': {
  bab: {
    'The Environment': {
      materi: `
  <h2 class="text-xl font-bold mb-2">The Environment</h2>
  <p>
    In this chapter, students will learn about the concept of the environment, the impact of human activities, and the importance of protecting nature for future generations.
  </p>
  
  <h3 class="text-lg font-semibold mt-4">1. Definition of the Environment</h3>
  <p>
    The environment refers to everything that surrounds us, including air, water, land, plants, animals, and human beings. It provides the basic resources needed for survival and well-being.
  </p>

  <h3 class="text-lg font-semibold mt-4">2. Environmental Problems</h3>
  <p>
    Human activities often cause damage to nature. Common environmental issues include:
  </p>
  <ul class="list-disc ml-6 mb-4">
    <li><b>Air Pollution:</b> caused by vehicle emissions, factories, and burning fossil fuels.</li>
    <li><b>Water Pollution:</b> caused by waste disposal, chemicals, and plastic in rivers and oceans.</li>
    <li><b>Deforestation:</b> cutting down forests for agriculture, industry, and housing.</li>
    <li><b>Climate Change:</b> global warming caused by greenhouse gases and environmental exploitation.</li>
  </ul>

  <h3 class="text-lg font-semibold mt-4">3. The Importance of Environmental Protection</h3>
  <p>
    Protecting the environment is crucial to ensure the sustainability of life. A healthy environment provides clean air, fresh water, fertile soil, and stable climate conditions for humans and other living beings.
  </p>

  <h3 class="text-lg font-semibold mt-4">4. Solutions and Actions</h3>
  <p>
    There are several ways to protect and improve the environment, such as:
  </p>
  <ul class="list-disc ml-6 mb-4">
    <li>Reducing plastic use and recycling waste.</li>
    <li>Planting trees and conserving forests.</li>
    <li>Using renewable energy sources (solar, wind, water).</li>
    <li>Saving water and electricity.</li>
    <li>Promoting environmental education and awareness.</li>
  </ul>

  <h3 class="text-lg font-semibold mt-4">5. Example</h3>
  <p>
    Suppose a city faces severe air pollution due to traffic. The government encourages people to use public transportation, ride bicycles, or walk. Citizens are also encouraged to plant trees along the streets. These simple actions can significantly reduce pollution levels.
  </p>
`,

      video: 'kU8OJAOMbpg', 
      soal: [
{
  id: 'env1',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya: 'What is described as everything that surrounds us, including air, water, land, forests, and oceans?',
  opsi: [
    'Pollution',
    'The environment',
    'The climate',
    'Global warming'
  ],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> The environment is defined as everything that surrounds us, including air, water, land, forests, and oceans.</p>
  `
},
{
  id: 'env2',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya: 'What is mentioned as one of the most serious environmental problems today?',
  opsi: [
    'Deforestation',
    'Water pollution',
    'Air pollution',
    'Plastic waste'
  ],
  kunci: 2,
  bahas: `
    <p><b>Explanation:</b> The text clearly states that one of the most serious problems today is air pollution.</p>
  `
},
{
  id: 'env3',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya: 'What causes air pollution in many big cities?',
  opsi: [
    'Plastic waste and chemicals',
    'Smoke from vehicles and factories',
    'The destruction of forests',
    'Overfishing in the seas'
  ],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> In many big cities, air is filled with smoke from vehicles and factories, causing air pollution.</p>
  `
},
{
  id: 'env4',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya: 'What is one of the consequences of water pollution?',
  opsi: [
    'Forests are destroyed',
    'People lose their homes',
    'Marine life is killed',
    'Air quality improves'
  ],
  kunci: 2,
  bahas: `
    <p><b>Explanation:</b> Water pollution kills fish and other marine life, making the water unsafe for humans.</p>
  `
},
{
  id: 'env5',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya: 'Why are forests important according to the text?',
  opsi: [
    'They make cities more beautiful',
    'They produce oxygen and are home to many species',
    'They prevent vehicles from polluting',
    'They provide water to rivers'
  ],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> Forests are important because they produce oxygen and are home to countless species of animals and plants.</p>
  `
},
{
  id:'env6',
  tipe:'bs',
  audio:"https://dl.dropboxusercontent.com/scl/fi/7e1feyt35w9tsx9swu38l/ElevenLabs_2025-09-03T09_35_23_Laura_pre_sp100_s50_sb75_v3-1.mp3?rlkey=dftnps2z7i6d7cwqsz3vt1euu&st=i9ayao3q",
  tanya:'Tentukan benar atau salah untuk setiap pernyataan berikut berdasarkan teks "The Environment and Our Responsibility":',
  opsi:[
    'Air pollution in big cities is mainly caused by smoke from vehicles and factories.',
    'Water pollution only affects animals, not humans.',
    'Deforestation destroys animal habitats and disturbs the balance of nature.',
    'Protecting the environment is only the responsibility of governments.',
    'Simple actions like planting trees and reducing plastic use can help save the environment.'
  ],
  kunci:[true,false,true,false,true],
  bahas:
    '📘 <b>Pembahasan:</b><br><br>' +
    '1️⃣ <i>Air pollution in big cities is mainly caused by smoke from vehicles and factories.</i> ✅<br>' +
    'Benar, teks menyebutkan polusi udara di kota besar berasal dari asap kendaraan dan pabrik.<br><br>' +
    '2️⃣ <i>Water pollution only affects animals, not humans.</i> ❌<br>' +
    'Salah, teks jelas mengatakan polusi air juga membuat air tidak aman untuk manusia.<br><br>' +
    '3️⃣ <i>Deforestation destroys animal habitats and disturbs the balance of nature.</i> ✅<br>' +
    'Benar, teks menyatakan ketika hutan dihancurkan banyak hewan kehilangan rumah dan keseimbangan alam terganggu.<br><br>' +
    '4️⃣ <i>Protecting the environment is only the responsibility of governments.</i> ❌<br>' +
    'Salah, teks menekankan pemerintah, komunitas, dan individu harus bekerja sama menjaga lingkungan.<br><br>' +
    '5️⃣ <i>Simple actions like planting trees and reducing plastic use can help save the environment.</i> ✅<br>' +
    'Benar, teks menegaskan langkah kecil seperti menanam pohon, mengurangi plastik, dan hemat energi bisa memberi dampak besar.'
},
{
  id: 'env7',
  tipe: 'pg',
  bacaan: `The environment is everything that surrounds us: the air we breathe, the water we drink, the land we live on, and the forests and oceans that support life. A healthy environment provides the resources we need to survive and thrive. Unfortunately, human activities often cause damage to nature, leading to pollution, deforestation, and climate change.`,
  tanya: 'What is described as everything that surrounds us, including air, water, land, forests, and oceans?',
  opsi: [
    'Pollution',
    'The environment',
    'The climate',
    'Global warming'
  ],
  kunci: 1,
  bahas: 'The text defines the environment as everything around us: the air, water, land, forests, and oceans.'
},
{
  id: 'env8',
  tipe: 'pg',
  bacaan: `One of the most serious problems today is air pollution. In many big cities, the air is filled with smoke from vehicles and factories. This not only harms the health of people but also contributes to global warming. Clean air is a basic need, and protecting it should be everyone’s concern.`,
  tanya: 'What is mentioned as one of the most serious environmental problems today?',
  opsi: [
    'Deforestation',
    'Water pollution',
    'Air pollution',
    'Plastic waste'
  ],
  kunci: 2,
  bahas: 'The text states that one of the most serious problems today is air pollution.'
},
{
  id: 'env9',
  tipe: 'bs',
  bacaan: `Water pollution is another issue that affects millions of people around the world. Rivers and seas are often used as dumping grounds for waste, chemicals, and plastics. This pollution kills fish and other marine life, and makes the water unsafe for humans. Without clean water, no life can exist.`,
  tanya: 'Decide whether the following statements are True or False:',
  opsi: [
    'Water pollution only affects animals, not humans.',
    'Water pollution kills marine life and makes water unsafe for humans.'
  ],
  kunci: [false, true],
  bahas: 'The text explains that water pollution kills fish and other marine life, and also makes water unsafe for humans.'
},
{
  id: 'env10',
  tipe: 'bs',
  bacaan: `Deforestation also threatens our planet. Forests are home to countless species of animals and plants, and they also produce the oxygen we need. When forests are destroyed for farming or building, many animals lose their homes, and the balance of nature is disturbed.`,
  tanya: 'Decide whether the following statements are True or False:',
  opsi: [
    'Deforestation has no impact on animals or the balance of nature.',
    'Protecting forests means protecting the future of all living beings.'
  ],
  kunci: [false, true],
  bahas: 'Deforestation destroys animal habitats and disturbs the balance of nature, so protecting forests is protecting the future.'
},
{
  id: 'env11',
  tipe: 'pg',
  bacaan: `To save the environment, we must take action. Simple steps like reducing plastic use, planting trees, saving energy, and keeping our surroundings clean can make a big difference. Governments, communities, and individuals must work together to create a cleaner and greener world.`,
  tanya: 'According to the text, what simple actions can help protect the environment?',
  opsi: [
    'Burning more fossil fuels',
    'Reducing plastic use and planting trees',
    'Cutting down forests for housing',
    'Ignoring pollution problems'
  ],
  kunci: 1,
  bahas: 'The text emphasizes simple steps like reducing plastic, planting trees, saving energy, and keeping the environment clean.'
},
{
  id: 'env12',
  tipe: 'pg',
  bacaan: `The environment is everything that surrounds us: the air we breathe, the water we drink, the land we live on, and the forests and oceans that support life. A healthy environment provides 
  the resources we need to survive and thrive. Unfortunately, human activities often cause damage to nature, leading to pollution, deforestation, and climate change.`,
  tanya: 'What is described as everything that surrounds us, including air, water, land, forests, and oceans?',
  opsi: [
    'Pollution',
    'The environment',
    'The climate',
    'Global warming'
  ],
  kunci: 7,
  bahas: 'The text defines the environment as everything around us: the air, water, land, forests, and oceans.'
},
{
  id: 'env13',
  tipe: 'pg',
  bacaan: `One of the most serious problems today is air pollution. In many big cities, the air is filled 
  with smoke from vehicles and factories. This not only harms the health of people but also contributes 
  to global warming. Clean air is a basic need, and protecting it should be everyone’s concern.`,
  tanya: 'What is mentioned as one of the most serious environmental problems today?',
  opsi: [
    'Deforestation',
    'Water pollution',
    'Air pollution',
    'Plastic waste'
  ],
  kunci: 2,
  bahas: 'The text states that one of the most serious problems today is air pollution.'
},
{
  id: 'env14',
  tipe: 'bs',
  bacaan: `Water pollution is another issue that affects millions of people around the world. Rivers and seas are often used as dumping grounds for waste, chemicals, and plastics. This pollution kills fish and other marine life, and makes the water unsafe for humans. Without clean water, no life can exist.`,
  tanya: 'Decide whether the following statements are True or False:',
  opsi: [
    'Water pollution only affects animals, not humans.',
    'Water pollution kills marine life and makes water unsafe for humans.'
  ],
  kunci: [false, true],
  bahas: 'The text explains that water pollution kills fish and other marine life, and also makes water unsafe for humans.'
},
{
  id: 'env15',
  tipe: 'bs',
  bacaan: `Deforestation also threatens our planet. Forests are home to countless species of animals and plants, and they also produce the oxygen we need. When forests are destroyed for farming or building, many animals lose their homes, and the balance of nature is disturbed.`,
  tanya: 'Decide whether the following statements are True or False:',
  opsi: [
    'Deforestation has no impact on animals or the balance of nature.',
    'Protecting forests means protecting the future of all living beings.'
  ],
  kunci: [false, true],
  bahas: 'Deforestation destroys animal habitats and disturbs the balance of nature, so protecting forests is protecting the future.'
},
{
  id: 'env16',
  tipe: 'pg',
  bacaan: `To save the environment, we must take action. Simple steps like reducing plastic use, planting trees, saving energy, and keeping our surroundings clean can make a big difference. Governments, communities, and individuals must work together to create a cleaner and greener world.`,
  tanya: 'According to the text, what simple actions can help protect the environment?',
  opsi: [
    'Burning more fossil fuels',
    'Reducing plastic use and planting trees',
    'Cutting down forests for housing',
    'Ignoring pollution problems'
  ],
  kunci: 1,
  bahas: 'The text emphasizes simple steps like reducing plastic, planting trees, saving energy, and keeping the environment clean.'
},
{
  id: 'env17',
  tipe: 'cb',
  bacaan: `The environment is everything that surrounds us and provides the resources we need. Unfortunately, human activities often cause damage to nature, leading to pollution, deforestation, and climate change. To save the environment, we must take action together.`,
  tanya: 'Which of the following are mentioned in the text as threats to the environment? (Choose all that apply)',
  opsi: [
    'Pollution',
    'Deforestation',
    'Climate change',
    'Overpopulation',
    'Global trade'
  ],
  kunci: [0, 1, 2],
  bahas: 'The text specifically mentions pollution, deforestation, and climate change as threats to the environment. Overpopulation and global trade are not directly mentioned.'
},
{
  id: 'env18',
  tipe: 'cb',
  bacaan: `To save the environment, the text suggests simple actions such as reducing plastic use, planting trees, saving energy, and keeping surroundings clean. Governments, communities, and individuals must work together to protect the environment.`,
  tanya: 'Which actions are suggested in the text to help protect the environment? (Choose all that apply)',
  opsi: [
    'Reducing plastic use',
    'Planting trees',
    'Saving energy',
    'Keeping surroundings clean',
    'Using more fossil fuels'
  ],
  kunci: [0, 1, 2, 3],
  bahas: 'The text emphasizes reducing plastic, planting trees, saving energy, and keeping surroundings clean as simple steps to protect the environment. Using more fossil fuels is not suggested.'
},
{
  id: 'env19',
  tipe: 'cb',
  bacaan: `Air pollution is caused by smoke from vehicles and factories. It can lead to serious health problems and also contributes to global warming.`,
  tanya: 'What are the effects of air pollution mentioned in the text? (Choose all that apply)',
  opsi: [
    'Asthma and lung disease',
    'Global warming',
    'Water contamination',
    'Soil erosion'
  ],
  kunci: [0, 1],
  bahas: 'The text mentions that air pollution causes health problems such as asthma and lung disease and also contributes to global warming.'
},
{
  id: 'env20',
  tipe: 'cb',
  bacaan: `Water pollution often comes from plastics, chemicals, and waste. It harms fish and marine life and makes the water unsafe for humans.`,
  tanya: 'According to the text, what are the consequences of water pollution? (Choose all that apply)',
  opsi: [
    'Killing marine life',
    'Unsafe water for humans',
    'Rising temperatures',
    'Destruction of forests'
  ],
  kunci: [0, 1],
  bahas: 'Water pollution kills fish and marine life and makes the water unsafe for human use. Rising temperatures and forest destruction are not mentioned here.'
},
{
  id: 'pv1',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/5gyz36w25tbgvansen1wz/luvvoice.com-20250903-Um7a2Q.mp3?rlkey=wk6g54yi7qes63kgs69hmkj69&st=bm681g0u",
  tanya: 'What is released into the atmosphere by vehicles and factories that causes health problems?',
  opsi: [
    'Fresh air',
    'Harmful gases',
    'Clean water vapor',
    'Oxygen'
  ],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> Vehicles and factories release <b>harmful gases</b> into the atmosphere, which cause health issues such as asthma and lung disease.</p>
  `
},
{
  id: 'pv2',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/5gyz36w25tbgvansen1wz/luvvoice.com-20250903-Um7a2Q.mp3?rlkey=wk6g54yi7qes63kgs69hmkj69&st=bm681g0u",
  tanya: 'Which problem is caused by water pollution according to the text?',
  opsi: [
    'Cleaner oceans',
    'Increase in oxygen levels',
    'Death of marine life',
    'Reduction of harmful gases'
  ],
  kunci: 2,
  bahas: `
    <p><b>Explanation:</b> Water pollution kills fish and marine life and makes water unsafe for humans.</p>
  `
},
{
  id: 'pv3',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/5gyz36w25tbgvansen1wz/luvvoice.com-20250903-Um7a2Q.mp3?rlkey=wk6g54yi7qes63kgs69hmkj69&st=bm681g0u",
  tanya: 'What are rivers, lakes, and oceans often contaminated with?',
  opsi: [
    'Plastics, chemicals, and waste',
    'Fertilizers only',
    'Clean drinking water',
    'Oxygen and carbon dioxide'
  ],
  kunci: 0,
  bahas: `
    <p><b>Explanation:</b> Rivers, lakes, and oceans are often contaminated with <b>plastics, chemicals, and waste</b>.</p>
  `
},
{
  id: 'pv4',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/5gyz36w25tbgvansen1wz/luvvoice.com-20250903-Um7a2Q.mp3?rlkey=wk6g54yi7qes63kgs69hmkj69&st=bm681g0u",
  tanya: 'What is one effect of land pollution mentioned in the text?',
  opsi: [
    'Improved soil quality',
    'Destruction of ecosystems',
    'Cleaner habitats',
    'More resources for humans'
  ],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> Land pollution destroys ecosystems and reduces the natural resources available for humans.</p>
  `
},
{
  id: 'pv5',
  tipe: 'pg',
  audio: "https://dl.dropboxusercontent.com/scl/fi/5gyz36w25tbgvansen1wz/luvvoice.com-20250903-Um7a2Q.mp3?rlkey=wk6g54yi7qes63kgs69hmkj69&st=bm681g0u",
  tanya: 'What warning does the text give about the future if pollution continues?',
  opsi: [
    'Future generations will have an easier life',
    'There will be unlimited resources',
    'Future generations will face greater challenges',
    'The environment will automatically recover'
  ],
  kunci: 2,
  bahas: `
    <p><b>Explanation:</b> The text warns that if pollution continues, <b>future generations will face even greater challenges</b> in maintaining a healthy environment.</p>
  `
},
{
  id: 'pv6',
  tipe: 'pg',
  bacaan: `The Impact of Environmental Pollution
Environmental pollution has become one of the biggest threats to life on Earth. Air pollution from vehicles and factories releases harmful gases into the atmosphere, causing health problems such as asthma and lung disease. It also contributes to global warming, which leads to rising temperatures and unpredictable weather.
Water pollution is another serious problem. Rivers, lakes, and oceans are often contaminated with plastics, chemicals, and waste. This not only kills fish and marine life but also makes the water unsafe for human consumption. Millions of people around the world suffer from a lack of clean water because of pollution.
Land pollution, caused by excessive waste, deforestation, and the use of harmful chemicals, affects soil quality and destroys ecosystems. Plants and animals lose their natural habitats, and humans are left with fewer resources to survive. If pollution continues, future generations will face even greater challenges in maintaining a healthy and sustainable environment.`,
  tanya: 'What kind of health problems are caused by air pollution according to the text?',
  opsi: [
    'Asthma and lung disease',
    'Fever and headache',
    'Stomachache and diarrhea',
    'Blindness and deafness'
  ],
  kunci: 0,
  bahas: 'Air pollution releases harmful gases that cause health issues such as asthma and lung disease.'
},
{
  id: 'pv7',
  tipe: 'bs',
  bacaan: `The Impact of Environmental Pollution
Environmental pollution has become one of the biggest threats to life on Earth. Air pollution from vehicles and factories releases harmful gases into the atmosphere, causing health problems such as asthma and lung disease. It also contributes to global warming, which leads to rising temperatures and unpredictable weather.
Water pollution is another serious problem. Rivers, lakes, and oceans are often contaminated with plastics, chemicals, and waste. This not only kills fish and marine life but also makes the water unsafe for human consumption. Millions of people around the world suffer from a lack of clean water because of pollution.
Land pollution, caused by excessive waste, deforestation, and the use of harmful chemicals, affects soil quality and destroys ecosystems. Plants and animals lose their natural habitats, and humans are left with fewer resources to survive. If pollution continues, future generations will face even greater challenges in maintaining a healthy and sustainable environment.`,
  tanya: 'State whether the following statements are True or False.',
  opsi: [
    'Land pollution improves soil quality.',
    'Deforestation contributes to land pollution.',
    'Land pollution destroys ecosystems.'
  ],
  kunci: [
    false,
    true,
    true
  ],
  bahas: 'Land pollution reduces soil quality and destroys ecosystems. It is caused by factors such as deforestation and harmful chemicals.'
},
{
  id: 'pv8',
  tipe: 'cb',
  bacaan: `The Impact of Environmental Pollution
Environmental pollution has become one of the biggest threats to life on Earth. Air pollution from vehicles and factories releases harmful gases into the atmosphere, causing health problems such as asthma and lung disease. It also contributes to global warming, which leads to rising temperatures and unpredictable weather.
Water pollution is another serious problem. Rivers, lakes, and oceans are often contaminated with plastics, chemicals, and waste. This not only kills fish and marine life but also makes the water unsafe for human consumption. Millions of people around the world suffer from a lack of clean water because of pollution.
Land pollution, caused by excessive waste, deforestation, and the use of harmful chemicals, affects soil quality and destroys ecosystems. Plants and animals lose their natural habitats, and humans are left with fewer resources to survive. If pollution continues, future generations will face even greater challenges in maintaining a healthy and sustainable environment.`,
  tanya: 'According to the text, what are the consequences of water pollution? (Choose all that apply)',
  opsi: [
    'Killing marine life',
    'Unsafe water for humans',
    'Rising temperatures',
    'Destruction of forests'
  ],
  kunci: [0, 1],
  bahas: 'Water pollution kills fish and marine life and makes the water unsafe for human use. Rising temperatures and forest destruction are not direct effects of water pollution.'
},
      ]
    },
'Past Tense': {
  materi: `
  <h2 class="text-xl font-bold mb-2">The Environment – Past Tense Practice</h2>
  <p>
    In this section, students will practice using the past tense while talking about environmental issues and actions that happened in the past.
  </p>

  <h3 class="text-lg font-semibold mt-4">1. Rumus Past Tense</h3>
  <ul class="list-disc ml-6 mb-4">
    <li><b>Positive (+):</b> Subject + Verb 2 (past form) + Object</li>
    <li><b>Negative (–):</b> Subject + did not (didn't) + Verb 1 + Object</li>
    <li><b>Interrogative (?):</b> Did + Subject + Verb 1 + Object?</li>
  </ul>

  <p><b>Contoh:</b></p>
  <ul class="list-disc ml-6 mb-4">
    <li>(+) She <i>planted</i> trees yesterday.</li>
    <li>(–) She <i>did not plant</i> trees yesterday.</li>
    <li>(?) <i>Did</i> she <i>plant</i> trees yesterday?</li>
  </ul>

  <h3 class="text-lg font-semibold mt-4">2. Regular Verbs</h3>
  <p>
    Regular verbs are verbs that form the past tense by adding <b>-ed</b> or <b>-d</b> at the end.
  </p>
  
  <table class="table-auto border border-gray-400 mt-2">
    <thead>
      <tr class="bg-gray-200">
        <th class="border px-2 py-1">Verb 1 (Base)</th>
        <th class="border px-2 py-1">Verb 2 (Past)</th>
        <th class="border px-2 py-1">Verb 3 (Past Participle)</th>
        <th class="border px-2 py-1">Arti</th>
      </tr>
    </thead>
    <tbody>
      <tr><td class="border px-2 py-1">Ask</td><td class="border px-2 py-1">Asked</td><td class="border px-2 py-1">Asked</td><td class="border px-2 py-1">Bertanya</td></tr>
      <tr><td class="border px-2 py-1">Clean</td><td class="border px-2 py-1">Cleaned</td><td class="border px-2 py-1">Cleaned</td><td class="border px-2 py-1">Membersihkan</td></tr>
      <tr><td class="border px-2 py-1">Collect</td><td class="border px-2 py-1">Collected</td><td class="border px-2 py-1">Collected</td><td class="border px-2 py-1">Mengumpulkan</td></tr>
      <tr><td class="border px-2 py-1">Destroy</td><td class="border px-2 py-1">Destroyed</td><td class="border px-2 py-1">Destroyed</td><td class="border px-2 py-1">Menghancurkan</td></tr>
      <tr><td class="border px-2 py-1">Enjoy</td><td class="border px-2 py-1">Enjoyed</td><td class="border px-2 py-1">Enjoyed</td><td class="border px-2 py-1">Menikmati</td></tr>
      <tr><td class="border px-2 py-1">Help</td><td class="border px-2 py-1">Helped</td><td class="border px-2 py-1">Helped</td><td class="border px-2 py-1">Membantu</td></tr>
      <tr><td class="border px-2 py-1">Join</td><td class="border px-2 py-1">Joined</td><td class="border px-2 py-1">Joined</td><td class="border px-2 py-1">Bergabung</td></tr>
      <tr><td class="border px-2 py-1">Plant</td><td class="border px-2 py-1">Planted</td><td class="border px-2 py-1">Planted</td><td class="border px-2 py-1">Menanam</td></tr>
      <tr><td class="border px-2 py-1">Save</td><td class="border px-2 py-1">Saved</td><td class="border px-2 py-1">Saved</td><td class="border px-2 py-1">Menyelamatkan / Menghemat</td></tr>
      <tr><td class="border px-2 py-1">Start</td><td class="border px-2 py-1">Started</td><td class="border px-2 py-1">Started</td><td class="border px-2 py-1">Memulai</td></tr>
      <tr><td class="border px-2 py-1">Stop</td><td class="border px-2 py-1">Stopped</td><td class="border px-2 py-1">Stopped</td><td class="border px-2 py-1">Berhenti</td></tr>
      <tr><td class="border px-2 py-1">Use</td><td class="border px-2 py-1">Used</td><td class="border px-2 py-1">Used</td><td class="border px-2 py-1">Menggunakan</td></tr>
      <tr><td class="border px-2 py-1">Walk</td><td class="border px-2 py-1">Walked</td><td class="border px-2 py-1">Walked</td><td class="border px-2 py-1">Berjalan</td></tr>
      <tr><td class="border px-2 py-1">Warn</td><td class="border px-2 py-1">Warned</td><td class="border px-2 py-1">Warned</td><td class="border px-2 py-1">Memperingatkan</td></tr>
    </tbody>
  </table>

  <h3 class="text-lg font-semibold mt-4">3. Irregular Verbs</h3>
<p>
  Irregular verbs are verbs that change their past forms in different ways (tidak beraturan).
</p>

<table class="table-auto border border-gray-400 mt-2">
  <thead>
    <tr class="bg-gray-200">
      <th class="border px-2 py-1">Verb 1 (Base)</th>
      <th class="border px-2 py-1">Verb 2 (Past)</th>
      <th class="border px-2 py-1">Verb 3 (Past Participle)</th>
      <th class="border px-2 py-1">Arti</th>
    </tr>
  </thead>
  <tbody>
    <tr><td class="border px-2 py-1">Be (am/is/are)</td><td class="border px-2 py-1">Was/Were</td><td class="border px-2 py-1">Been</td><td class="border px-2 py-1">Menjadi</td></tr>
    <tr><td class="border px-2 py-1">Begin</td><td class="border px-2 py-1">Began</td><td class="border px-2 py-1">Begun</td><td class="border px-2 py-1">Memulai</td></tr>
    <tr><td class="border px-2 py-1">Break</td><td class="border px-2 py-1">Broke</td><td class="border px-2 py-1">Broken</td><td class="border px-2 py-1">Memecahkan</td></tr>
    <tr><td class="border px-2 py-1">Bring</td><td class="border px-2 py-1">Brought</td><td class="border px-2 py-1">Brought</td><td class="border px-2 py-1">Membawa</td></tr>
    <tr><td class="border px-2 py-1">Build</td><td class="border px-2 py-1">Built</td><td class="border px-2 py-1">Built</td><td class="border px-2 py-1">Membangun</td></tr>
    <tr><td class="border px-2 py-1">Buy</td><td class="border px-2 py-1">Bought</td><td class="border px-2 py-1">Bought</td><td class="border px-2 py-1">Membeli</td></tr>
    <tr><td class="border px-2 py-1">Come</td><td class="border px-2 py-1">Came</td><td class="border px-2 py-1">Come</td><td class="border px-2 py-1">Datang</td></tr>
    <tr><td class="border px-2 py-1">Do</td><td class="border px-2 py-1">Did</td><td class="border px-2 py-1">Done</td><td class="border px-2 py-1">Melakukan</td></tr>
    <tr><td class="border px-2 py-1">Drink</td><td class="border px-2 py-1">Drank</td><td class="border px-2 py-1">Drunk</td><td class="border px-2 py-1">Minum</td></tr>
    <tr><td class="border px-2 py-1">Eat</td><td class="border px-2 py-1">Ate</td><td class="border px-2 py-1">Eaten</td><td class="border px-2 py-1">Makan</td></tr>
    <tr><td class="border px-2 py-1">Find</td><td class="border px-2 py-1">Found</td><td class="border px-2 py-1">Found</td><td class="border px-2 py-1">Menemukan</td></tr>
    <tr><td class="border px-2 py-1">Give</td><td class="border px-2 py-1">Gave</td><td class="border px-2 py-1">Given</td><td class="border px-2 py-1">Memberi</td></tr>
    <tr><td class="border px-2 py-1">Go</td><td class="border px-2 py-1">Went</td><td class="border px-2 py-1">Gone</td><td class="border px-2 py-1">Pergi</td></tr>
    <tr><td class="border px-2 py-1">Have</td><td class="border px-2 py-1">Had</td><td class="border px-2 py-1">Had</td><td class="border px-2 py-1">Punya</td></tr>
    <tr><td class="border px-2 py-1">Keep</td><td class="border px-2 py-1">Kept</td><td class="border px-2 py-1">Kept</td><td class="border px-2 py-1">Menyimpan</td></tr>
    <tr><td class="border px-2 py-1">Know</td><td class="border px-2 py-1">Knew</td><td class="border px-2 py-1">Known</td><td class="border px-2 py-1">Mengetahui</td></tr>
    <tr><td class="border px-2 py-1">Leave</td><td class="border px-2 py-1">Left</td><td class="border px-2 py-1">Left</td><td class="border px-2 py-1">Meninggalkan</td></tr>
    <tr><td class="border px-2 py-1">Lose</td><td class="border px-2 py-1">Lost</td><td class="border px-2 py-1">Lost</td><td class="border px-2 py-1">Kehilangan</td></tr>
    <tr><td class="border px-2 py-1">Make</td><td class="border px-2 py-1">Made</td><td class="border px-2 py-1">Made</td><td class="border px-2 py-1">Membuat</td></tr>
    <tr><td class="border px-2 py-1">Meet</td><td class="border px-2 py-1">Met</td><td class="border px-2 py-1">Met</td><td class="border px-2 py-1">Bertemu</td></tr>
    <tr><td class="border px-2 py-1">Read</td><td class="border px-2 py-1">Read</td><td class="border px-2 py-1">Read</td><td class="border px-2 py-1">Membaca</td></tr>
    <tr><td class="border px-2 py-1">Run</td><td class="border px-2 py-1">Ran</td><td class="border px-2 py-1">Run</td><td class="border px-2 py-1">Berlari</td></tr>
    <tr><td class="border px-2 py-1">Say</td><td class="border px-2 py-1">Said</td><td class="border px-2 py-1">Said</td><td class="border px-2 py-1">Mengatakan</td></tr>
    <tr><td class="border px-2 py-1">See</td><td class="border px-2 py-1">Saw</td><td class="border px-2 py-1">Seen</td><td class="border px-2 py-1">Melihat</td></tr>
    <tr><td class="border px-2 py-1">Sing</td><td class="border px-2 py-1">Sang</td><td class="border px-2 py-1">Sung</td><td class="border px-2 py-1">Bernyanyi</td></tr>
    <tr><td class="border px-2 py-1">Speak</td><td class="border px-2 py-1">Spoke</td><td class="border px-2 py-1">Spoken</td><td class="border px-2 py-1">Berbicara</td></tr>
    <tr><td class="border px-2 py-1">Take</td><td class="border px-2 py-1">Took</td><td class="border px-2 py-1">Taken</td><td class="border px-2 py-1">Mengambil</td></tr>
    <tr><td class="border px-2 py-1">Teach</td><td class="border px-2 py-1">Taught</td><td class="border px-2 py-1">Taught</td><td class="border px-2 py-1">Mengajar</td></tr>
    <tr><td class="border px-2 py-1">Think</td><td class="border px-2 py-1">Thought</td><td class="border px-2 py-1">Thought</td><td class="border px-2 py-1">Berpikir</td></tr>
    <tr><td class="border px-2 py-1">Write</td><td class="border px-2 py-1">Wrote</td><td class="border px-2 py-1">Written</td><td class="border px-2 py-1">Menulis</td></tr>
  </tbody>
</table>


  <h3 class="text-lg font-semibold mt-4">4. Verbal Sentences</h3>
  <p>
    Verbal sentences use action verbs (kata kerja). Example:
  </p>
  <ul class="list-disc ml-6 mb-4">
    <li>(+) They <i>cleaned</i> the park last Sunday.</li>
    <li>(–) They <i>did not clean</i> the park last Sunday.</li>
    <li>(?) <i>Did</i> they <i>clean</i> the park last Sunday?</li>
  </ul>

  <h3 class="text-lg font-semibold mt-4">5. Nonverbal Sentences</h3>
  <p>
    Nonverbal sentences use <b>to be (was/were)</b> and adjectives/nouns (tanpa kata kerja utama). Example:
  </p>
  <ul class="list-disc ml-6 mb-4">
    <li>(+) The river <i>was</i> dirty last year.</li>
    <li>(–) The river <i>was not</i> dirty last year.</li>
    <li>(?) <i>Was</i> the river dirty last year?</li>
  </ul>
  `,
video: 'DHDgrU_Hlx8', 
  soal: [
    {
      id: 'envPast1',
      tipe: 'pg',
      tanya: 'Yesterday, the students ___ trees in the school garden to reduce air pollution.',
      opsi: [
        'plant',
        'planted',
        'plants',
        'planting'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> The sentence is in the past tense (Yesterday), so the correct form is <i>planted</i>.</p>
      `
    },
    {
      id: 'envPast2',
      tipe: 'pg',
      tanya: 'Last week, people ___ plastic waste from the river.',
      opsi: [
        'collect',
        'collected',
        'collects',
        'collecting'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> Because of "Last week", we must use past tense → <i>collected</i>.</p>
      `
    },
    {
      id: 'envPast3',
      tipe: 'pg',
      tanya: 'The government ___ a campaign to save water two years ago.',
      opsi: [
        'start',
        'started',
        'starts',
        'starting'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> "Two years ago" shows past time, so the verb must be <i>started</i>.</p>
      `
    },
    {
      id: 'envPast4',
      tipe: 'pg',
      tanya: 'Many factories ___ toxic smoke into the air in the past.',
      opsi: [
        'release',
        'released',
        'releases',
        'releasing'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> The correct past tense form of "release" is <i>released</i>.</p>
      `
    },
    {
      id: 'envPast5',
      tipe: 'pg',
      tanya: 'Five years ago, scientists ___ about the danger of climate change.',
      opsi: [
        'warn',
        'warned',
        'warns',
        'warning'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> The past tense of "warn" is <i>warned</i>.</p>
      `
    },
{
      id: 'pt1',
      tipe: 'pg',
      tanya: 'She ___ to the market yesterday. (positive)',
      opsi: [
        'go',
        'goes',
        'went',
        'gone'
      ],
      kunci: 2,
      bahas: `
        <p><b>Explanation:</b> "Yesterday" shows past tense, so the correct form is <i>went</i>.</p>
      `
    },
    {
      id: 'pt2',
      tipe: 'pg',
      tanya: 'They ___ play football last Sunday. (negative)',
      opsi: [
        'did not',
        'does not',
        'do not',
        'was not'
      ],
      kunci: 0,
      bahas: `
        <p><b>Explanation:</b> Negative past tense uses "did not".</p>
      `
    },
    {
      id: 'pt3',
      tipe: 'pg',
      tanya: '___ you visit your grandmother last week? (interrogative)',
      opsi: [
        'Do',
        'Did',
        'Does',
        'Are'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> Past tense question uses "Did".</p>
      `
    },
    {
  id: 'pt4',
  tipe: 'bs',
  tanya: 'Statement: He didn’t went to school yesterday.',
  opsi: ['True', 'False'],
  kunci: 1,
  bahas: `
    <p><b>Explanation:</b> After "didn’t", the verb must be base form → "He didn’t go".</p>
  `
},

    {
      id: 'pt5',
      tipe: 'pg',
      tanya: 'She ___ (not/watch) TV last night. Choose the correct form.',
      opsi: [
        'She not watched TV last night.',
        'She didn’t watched TV last night.',
        'She didn’t watch TV last night.',
        'She don’t watch TV last night.'
      ],
      kunci: 2,
      bahas: `
        <p><b>Explanation:</b> Correct negative past tense is "didn’t + base verb".</p>
      `
    },
    {
      id: 'pt6',
      tipe: 'cb',
      tanya: 'Which sentences are correct in past tense?',
      opsi: [
        'I saw a rainbow yesterday.',
        'They goes to school last Monday.',
        'She didn’t eat breakfast this morning.',
        'Did you watched the movie last night?'
      ],
      kunci: [0, 2],
      bahas: `
        <p><b>Explanation:</b> (1) Correct: "I saw..." and (3) Correct: "didn’t eat". The others are wrong.</p>
      `
    },
    {
      id: 'pt7',
      tipe: 'pg',
      tanya: 'We ___ (be) happy yesterday.',
      opsi: [
        'was',
        'were',
        'are',
        'is'
      ],
      kunci: 1,
      bahas: `
        <p><b>Explanation:</b> Subject "we" uses "were" in past tense.</p>
      `
    },
    {
      id: 'pt8',
      tipe: 'pg',
      tanya: 'Where ___ you go last holiday? (interrogative)',
      opsi: [
        'did',
        'do',
        'does',
        'was'
      ],
      kunci: 0,
      bahas: `
        <p><b>Explanation:</b> Past tense interrogative uses "did".</p>
      `
    },
    {
  id:'pt9',
  tipe:'bs',
  tanya:'Tentukan benar atau salah untuk setiap pernyataan berikut tentang penggunaan "to be" dalam Past Tense:',
  opsi:[
    'They was very tired yesterday.',
    'We were at the park last Sunday.',
    'She were late for school yesterday.',
    'I was happy with the result.',
    'He was not at home last night.'
  ],
  kunci:[false,true,false,true,true],
  bahas:
    '📘 <b>Pembahasan:</b><br><br>' +
    '1️⃣ <i>They was very tired yesterday.</i> ❌<br>' +
    'Salah, subjek "they" harus pakai "were" → "They were...".<br><br>' +
    '2️⃣ <i>We were at the park last Sunday.</i> ✅<br>' +
    'Benar, "we" cocok dengan "were".<br><br>' +
    '3️⃣ <i>She were late for school yesterday.</i> ❌<br>' +
    'Salah, subjek "she" harus pakai "was" → "She was...".<br><br>' +
    '4️⃣ <i>I was happy with the result.</i> ✅<br>' +
    'Benar, "I" dalam past tense pakai "was".<br><br>' +
    '5️⃣ <i>He was not at home last night.</i> ✅<br>' +
    'Benar, "he" pakai "was" sesuai aturan past tense.'
},

    {
      id: 'pt10',
      tipe: 'cb',
      tanya: 'Choose the correct negative sentences:',
      opsi: [
        'He didn’t go to the party.',
        'I didn’t studied last night.',
        'They didn’t come yesterday.',
        'She didn’t goes to school.'
      ],
      kunci: [0, 2],
      bahas: `
        <p><b>Explanation:</b> The correct negative forms are "didn’t + base verb".</p>
      `
    },
{
    id: 'ptFill1',
    tipe: 'isian',
    tanya: 'Yesterday, I ___ (travel) to Jakarta by train.',
    kunciText: 'traveled',
    bahas: 'Regular verb: travel → traveled.'
  },
  {
    id: 'ptFill2',
    tipe: 'isian',
    tanya: 'She ___ (study) hard for the exam last night.',
    kunciText: 'studied',
    bahas: 'Regular verb: study → studied.'
  },
  {
    id: 'ptFill3',
    tipe: 'isian',
    tanya: 'We ___ (watch) a movie together two days ago.',
    kunciText: 'watched',
    bahas: 'Regular verb: watch → watched.'
  },
  {
    id: 'ptFill4',
    tipe: 'isian',
    tanya: 'The workers ___ (build) a new bridge last year.',
    kunciText: 'built',
    bahas: 'Irregular verb: build → built.'
  },
  {
    id: 'ptFill5',
    tipe: 'isian',
    tanya: 'He ___ (read) a science book yesterday evening.',
    kunciText: 'read',
    bahas: 'Irregular verb: read → read (same spelling, different pronunciation).'
  },
  {
    id: 'ptFill6',
    tipe: 'isian',
    tanya: 'My brother ___ (find) his lost wallet last night.',
    kunciText: 'found',
    bahas: 'Irregular verb: find → found.'
  },
  {
    id: 'ptFill7',
    tipe: 'isian',
    tanya: 'They ___ (meet) their teacher at the park last Sunday.',
    kunciText: 'met',
    bahas: 'Irregular verb: meet → met.'
  },
  {
    id: 'ptFill8',
    tipe: 'isian',
    tanya: 'I ___ (write) a letter to my cousin yesterday.',
    kunciText: 'wrote',
    bahas: 'Irregular verb: write → wrote.'
  },
  {
    id: 'ptFill9',
    tipe: 'isian',
    tanya: 'She ___ (lose) her phone on the bus last week.',
    kunciText: 'lost',
    bahas: 'Irregular verb: lose → lost.'
  },
  {
    id: 'ptFill10',
    tipe: 'isian',
    tanya: 'We ___ (buy) some fruits at the market yesterday.',
    kunciText: 'bought',
    bahas: 'Irregular verb: buy → bought.'
  },
  ]
}

  }
}
,

  };

  // ======= Helpers =======
  const $ = (sel, par=document) => par.querySelector(sel);
  const $$ = (sel, par=document) => Array.from(par.querySelectorAll(sel));
  function setTab(name){
    $$('.tab-pane').forEach(p => p.classList.add('hidden'));
    $('#tab-'+name).classList.remove('hidden');
    $$('.tab-btn').forEach(b=>{
      const active = b.dataset.tab===name;
      b.classList.toggle('bg-emerald-600', active);
      b.classList.toggle('text-white', active);
      b.classList.toggle('border', !active);
      b.classList.toggle('chip', !active);
      b.classList.toggle('bg-white', !active);
      b.classList.toggle('text-gray-700', !active);
    })
  }

  function populateSelect(sel, list){
    sel.innerHTML = '';
    list.forEach(v=>{
      const opt=document.createElement('option');
      opt.value=v; opt.textContent=v; sel.appendChild(opt);
    })
  }

  function renderMateri(mapel, bab){
    const item = DB[mapel]?.bab?.[bab];
    if(!item){
      $('#materiKonten').innerHTML = '<p class="text-gray-500">Materi belum tersedia.</p>';
      $('#materiVideo').innerHTML = '<span class="text-sm">Video belum tersedia.</span>';
      return;
    }
    $('#materiKonten').innerHTML = item.materi;
    if(item.video){
      $('#materiVideo').innerHTML = `<iframe class="w-full h-full" src="https://www.youtube.com/embed/${item.video}" title="Video pembelajaran" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`
    } else {
      $('#materiVideo').innerHTML = '<span class="text-sm">Video belum tersedia.</span>';
    }
if(window.MathJax){
    MathJax.typesetPromise([$('#materiKonten')]);
  }
  }

  function buildSoalCard(q, idx, prefix){
  const wrap = document.createElement('div');
  wrap.className = 'p-4 rounded-xl border chip';
  wrap.dataset.id = q.id;

  const head = document.createElement('div');
  head.className = 'flex items-start justify-between gap-3';
  head.innerHTML = `<div class="font-semibold">${idx+1}. ${q.tanya.replace(/\n/g,'<br>')}</div>`;
  wrap.appendChild(head);

  const body = document.createElement('div');
  body.className = 'mt-3 space-y-2';
if(q.gambar){
  const img = document.createElement('img');
  img.src = q.gambar;
  img.alt = 'Gambar soal';
  img.className = 'my-3 w-full max-w-md rounded-lg border';
  body.appendChild(img);
}
if(q.audio){
  const aud = document.createElement('audio');
  aud.controls = true;
  aud.src = q.audio;
  aud.className = 'my-3 w-full';
  body.appendChild(aud);
}
if(q.bacaan){
  const teks = document.createElement('div');
  teks.className = 'mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm whitespace-pre-line text-justify';
  teks.innerText = q.bacaan;
  body.appendChild(teks);
}
  // ====== PILIHAN GANDA ======
  if(q.tipe === 'pg'){
    q.opsi.forEach((o,i)=>{
      const row = document.createElement('label');
      row.className = 'flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 border border-transparent';
      row.innerHTML = `<input type="radio" name="${prefix}-${q.id}" value="${i}" class="accent-emerald-600"> <span>${String.fromCharCode(65+i)}. ${o}</span>`;
      body.appendChild(row);
    });
  }

  // ====== CHECKBOX ======
  if(q.tipe === 'cb'){
    q.opsi.forEach((o,i)=>{
      const row = document.createElement('label');
      row.className = 'flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 border border-transparent';
      row.innerHTML = `<input type="checkbox" name="${prefix}-${q.id}" value="${i}" class="accent-emerald-600"> <span>${String.fromCharCode(65+i)}. ${o}</span>`;
      body.appendChild(row);
    });
  }
  // ====== CONSERVATION & RELAXATION ======
  if(q.tipe === 'cr'){
    const table = document.createElement('table');
    table.className = 'w-full border border-gray-200 rounded-lg';

    // Header tabel
    const thead = document.createElement('thead');
    thead.innerHTML = `
      <tr class="bg-gray-100 text-center">
        <th class="p-2 border">places</th>
        <th class="p-2 border w-28">Conservation</th>
        <th class="p-2 border w-28">Relaxation</th>
      </tr>`;
    table.appendChild(thead);

    // Body tabel
    const tbody = document.createElement('tbody');
    q.opsi.forEach((o,i)=>{
      const idCon = `${prefix}-${q.id}-cr-${i}-con`;
      const idRel = `${prefix}-${q.id}-cr-${i}-rel`;

      const row = document.createElement('tr');
      row.className = 'border-t';
      row.innerHTML = `
        <td class="p-2 border">${o}</td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idCon}" name="${prefix}-${q.id}-cr-${i}" value="conservation" class="accent-emerald-600">
        </td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idRel}" name="${prefix}-${q.id}-cr-${i}" value="relaxation" class="accent-rose-600">
        </td>`;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    body.appendChild(table);
  }

  // ====== BENAR / SALAH ======
  if(q.tipe === 'bs'){
    const table = document.createElement('table');
    table.className = 'w-full border border-gray-200 rounded-lg';

    const thead = document.createElement('thead');
    thead.innerHTML = `
      <tr class="bg-gray-100 text-center">
        <th class="p-2 border">Pernyataan</th>
        <th class="p-2 border w-20">Benar</th>
        <th class="p-2 border w-20">Salah</th>
      </tr>`;
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    q.opsi.forEach((o,i)=>{
      const idBenar = `${prefix}-${q.id}-bs-${i}-benar`;
      const idSalah = `${prefix}-${q.id}-bs-${i}-salah`;

      const row = document.createElement('tr');
      row.className = 'border-t';
      row.innerHTML = `
        <td class="p-2 border">${o}</td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idBenar}" name="${prefix}-${q.id}-bs-${i}" value="true" class="accent-emerald-600">
        </td>
        <td class="p-2 text-center border">
          <input type="radio" id="${idSalah}" name="${prefix}-${q.id}-bs-${i}" value="false" class="accent-rose-600">
        </td>`;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    body.appendChild(table);
  }

  // ====== ISIAN ======
  if(q.tipe === 'isian'){
    const inp = document.createElement('input');
    inp.type = 'text';
    inp.placeholder = 'Ketik jawaban singkat…';
    inp.className = 'w-full px-3 py-2 rounded-lg border chip focus:outline-none focus:ring-2 focus:ring-emerald-300';
    inp.name = `${prefix}-${q.id}-isian`;
    body.appendChild(inp);
  }

  // ====== AKSI ======
  const actions = document.createElement('div');
  actions.className = 'mt-3 flex flex-wrap items-center gap-2';

  const btnCek = document.createElement('button');
  btnCek.className = 'btn px-3 py-2 rounded-lg bg-emerald-600 text-white text-sm';
  btnCek.textContent = 'Cek Jawaban';

  const btnBahas = document.createElement('button');
  btnBahas.className = 'btn px-3 py-2 rounded-lg border chip text-sm';
  btnBahas.textContent = 'Pembahasan';

  const status = document.createElement('span');
  status.className = 'ml-auto text-sm';

  const bahas = document.createElement('div');
  bahas.className = 'mt-3 hidden p-3 rounded-lg bg-emerald-50 border border-emerald-100 text-sm';
  bahas.textContent = q.bahas || 'Belum ada pembahasan.';

  // ====== EVENT CEK JAWABAN ======
  btnCek.addEventListener('click',()=>{
    let benar = false;

    if(q.tipe === 'pg'){
      const v = (document.querySelector(`input[name='${prefix}-${q.id}']:checked`)||{}).value;
      benar = Number(v) === Number(q.kunci);
    }
    else if(q.tipe === 'cb'){
      const checked = [...document.querySelectorAll(`input[name='${prefix}-${q.id}']:checked`)].map(el=>Number(el.value));
      const kunci = Array.isArray(q.kunci) ? q.kunci.slice().sort() : [q.kunci];
      benar = checked.slice().sort().toString() === kunci.toString();
    }
    else if(q.tipe === 'bs'){
      const jawabanUser = q.opsi.map((o,i)=>{
        const el = document.querySelector(`input[name='${prefix}-${q.id}-bs-${i}']:checked`);
        return el ? el.value === 'true' : null;
      });

      if(jawabanUser.includes(null)){
        alert('Pilih jawaban untuk semua pernyataan!');
        return;
      }
      benar = jawabanUser.every((val,i)=> val === q.kunci[i]);
    }
    else if(q.tipe === 'cr'){
      const jawabanUser = q.opsi.map((o,i)=>{
        const el = document.querySelector(`input[name='${prefix}-${q.id}-cr-${i}']:checked`);
        return el ? el.value : null;
      });

      if(jawabanUser.includes(null)){
        alert('Pilih jawaban Conservation / Relaxation untuk semua pernyataan!');
        return;
      }
      benar = jawabanUser.every((val,i)=> val === q.kunci[i]);
    }
    else {
      const v = (document.querySelector(`input[name='${prefix}-${q.id}-isian']`)||{}).value||'';
      benar = v.trim().toLowerCase() === String(q.kunciText||'').trim().toLowerCase();
    }

    status.textContent = benar ? '✅ Benar' : '❌ Salah';
    status.classList.toggle('text-emerald-600', benar);
    status.classList.toggle('text-rose-600', !benar);
  });

  btnBahas.addEventListener('click',()=> bahas.classList.toggle('hidden'));

  actions.append(btnCek, btnBahas, status);
  wrap.append(body, actions, bahas);
  return wrap;
}

  function loadLatihan(mapel,bab){
    const item = DB[mapel]?.bab?.[bab];
    const box = $('#latihanContainer');
    box.innerHTML='';
    if(!item){ 
        box.innerHTML = '<p class="text-gray-500">Soal belum tersedia.</p>'; 
        return; 
    }
    item.soal.forEach((q,i)=> box.appendChild(buildSoalCard(q,i,'lat')) );

    // Tambahkan ini agar MathJax render ulang rumus pada soal latihan
    if(window.MathJax){
        MathJax.typesetPromise([box]);
    }
}


  // ======= SIMULASI =======
  let simState = {timer:null, endAt: null, daftar: [], mapel:'', durasi: 0};

  function startSimulasi(mapel, jumlah, durasiMenit){
    const pools = Object.values(DB[mapel]?.bab || {}).flatMap(x=>x.soal||[]);
    if(pools.length===0){
      $('#simContainer').innerHTML = '<p class="text-gray-500">Bank soal untuk mapel ini belum tersedia.</p>';
      return;
    }
    const shuffled=[...pools].sort(()=>Math.random()-0.5).slice(0, Math.min(jumlah,pools.length));
    simState = {timer:null, endAt: Date.now()+durasiMenit*60*1000, daftar: shuffled, mapel, durasi:durasiMenit};
    renderSimulasi();
    runTimer();
  }

  function renderSimulasi(){
    const box = $('#simContainer');
    box.innerHTML='';
    simState.daftar.forEach((q,i)=> box.appendChild(buildSoalCard(q,i,'sim')) );
    $('#simHasil').classList.add('hidden');

    // Tambahkan ini agar MathJax render ulang rumus pada soal simulasi
    if(window.MathJax){
        MathJax.typesetPromise([box]);
    }
}


  function runTimer(){
    clearInterval(simState.timer);
    const info = $('#simInfo');
    const tick = ()=>{
      const remain = Math.max(0, simState.endAt - Date.now());
      const mm = String(Math.floor(remain/60000)).padStart(2,'0');
      const ss = String(Math.floor((remain%60000)/1000)).padStart(2,'0');
      info.textContent = `Mapel: ${simState.mapel} • Sisa waktu ${mm}:${ss}`;
      if(remain===0){
        clearInterval(simState.timer);
        selesaiSimulasi();
      }
    };
    tick();
    simState.timer = setInterval(tick, 250);
  }

  function nilaiPG(q){
    const v = (document.querySelector(`input[name='sim-${q.id}']:checked`)||{}).value;
    return Number(v)===Number(q.kunci);
  }
  function nilaiIsian(q){
    const v = (document.querySelector(`input[name='sim-${q.id}-isian']`)||{}).value||'';
    return v.trim().toLowerCase() === String(q.kunciText||'').trim().toLowerCase();
  }

  function selesaiSimulasi(){
    const total = simState.daftar.length;
    let benar = 0;
    simState.daftar.forEach(q=>{
      benar += (q.tipe==='pg') ? (nilaiPG(q)?1:0) : (nilaiIsian(q)?1:0);
    });
    const skor = Math.round((benar/total)*100);
    const hasil = $('#simHasil');
    hasil.classList.remove('hidden');
    hasil.innerHTML = `<div class="font-semibold">Hasil Simulasi</div>
      <div class="mt-1 text-sm">Benar: <strong>${benar}</strong> dari ${total} soal • Skor: <strong>${skor}</strong></div>
      <button id="btnReview" class="btn mt-3 px-3 py-2 rounded-lg border chip text-sm">Tampilkan Pembahasan</button>`;
    $('#simInfo').textContent = `Selesai • Mapel: ${simState.mapel}`;

    $('#btnReview').addEventListener('click',()=>{
      // Tampilkan semua pembahasan
      $$('#simContainer .p-4').forEach(card=>{
        const pemb = card.querySelector('div.mt-3.hidden');
        if(pemb) pemb.classList.remove('hidden');
      })
    })
  }

  // ======= INIT =======
  function initSelectors(){
    const mapels = Object.keys(DB);
    populateSelect($('#materiMapel'), mapels);
    populateSelect($('#latihMapel'), mapels);
    populateSelect($('#simMapel'), mapels);

    const firstBab = (mapel)=> Object.keys(DB[mapel].bab);

    // Materi default
    const m0 = mapels[0];
    populateSelect($('#materiBab'), firstBab(m0));
    // Latihan default
    populateSelect($('#latihBab'), firstBab(mapels[0]));

    $('#materiMapel').addEventListener('change', e=>{
      populateSelect($('#materiBab'), firstBab(e.target.value));
    });
    $('#latihMapel').addEventListener('change', e=>{
      populateSelect($('#latihBab'), firstBab(e.target.value));
    });

    $('#btnLoadMateri').addEventListener('click',()=>{
      renderMateri($('#materiMapel').value, $('#materiBab').value);
      window.scrollTo({top:0, behavior:'smooth'});
    });

    $('#btnLoadLatihan').addEventListener('click',()=>{
      loadLatihan($('#latihMapel').value, $('#latihBab').value);
    });

    $('#btnPeriksaSemua').addEventListener('click',()=>{
      $$('#latihanContainer .p-4').forEach(card=>{
        const cek = card.querySelector('button');
        cek?.click();
      });
    });

    $('#btnMulaiSim').addEventListener('click',()=>{
      const map = $('#simMapel').value;
      const j = Math.max(5, Math.min(50, Number($('#simJumlah').value||10)));
      const d = Math.max(5, Math.min(180, Number($('#simDurasi').value||15)));
      startSimulasi(map, j, d);
      window.scrollTo({top:0, behavior:'smooth'});
    });

    // Muat awal
    renderMateri($('#materiMapel').value, $('#materiBab').value);
    loadLatihan($('#latihMapel').value, $('#latihBab').value);
  }

  // Tab switching
  $$('.tab-btn').forEach(b=> b.addEventListener('click',()=> setTab(b.dataset.tab)) );

  // Start
  setTab('materi');
  initSelectors();
  </script>
</body>
</html>
